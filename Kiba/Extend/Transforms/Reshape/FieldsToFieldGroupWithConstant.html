<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Kiba::Extend::Transforms::Reshape::FieldsToFieldGroupWithConstant
  
    &mdash; Kiba-Extend Documentation
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Kiba::Extend::Transforms::Reshape::FieldsToFieldGroupWithConstant";
  relpath = '../../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Kiba.html" title="Kiba (module)">Kiba</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Extend.html" title="Kiba::Extend (module)">Extend</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Transforms.html" title="Kiba::Extend::Transforms (module)">Transforms</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Reshape.html" title="Kiba::Extend::Transforms::Reshape (module)">Reshape</a></span></span>
     &raquo; 
    <span class="title">FieldsToFieldGroupWithConstant</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Kiba::Extend::Transforms::Reshape::FieldsToFieldGroupWithConstant
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Kiba::Extend::Transforms::Reshape::FieldsToFieldGroupWithConstant</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/kiba/extend/transforms/reshape/fields_to_field_group_with_constant.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Convenience transform to rename one or more fields and add a field with a constant value,
  by default ensuring explicit empty field values and field evenness expected in
  field groups. Runs the following other transforms, which you will want to understand
  before using this one:</p>

<ul>
  <li><span class='object_link'><a href="../Rename/Fields.html" title="Kiba::Extend::Transforms::Rename::Fields (class)">Kiba::Extend::Transforms::Rename::Fields</a></span></li>
  <li><span class='object_link'><a href="../Replace/EmptyFieldValues.html" title="Kiba::Extend::Transforms::Replace::EmptyFieldValues (class)">Kiba::Extend::Transforms::Replace::EmptyFieldValues</a></span></li>
  <li><span class='object_link'><a href="../Clean/EvenFieldValues.html" title="Kiba::Extend::Transforms::Clean::EvenFieldValues (class)">Clean::EvenFieldValues</a></span></li>
  <li><span class='object_link'><a href="../Delete/EmptyFieldGroups.html" title="Kiba::Extend::Transforms::Delete::EmptyFieldGroups (class)">Delete::EmptyFieldGroups</a></span></li>
</ul>

<h2 id="examples">Examples</h2>

<p>Source data:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022||2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
<span class='rbracket'>]</span>
</code></pre>

<p>Value of <code>Kiba::Extend.nullvalue</code> = <code>'%NULLVALUE%'</code>. Value of <code>Kiba::Extend.delim</code> = <code>'|'</code>.</p>

<h3 id="default-behavior">Default behavior</h3>

<p>Used in job as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_transform'>transform</span> <span class='const'><span class='object_link'><a href="../Reshape.html" title="Kiba::Extend::Transforms::Reshape (module)">Reshape</a></span></span><span class='op'>::</span><span class='const'>FieldsToFieldGroupWithConstant</span><span class='comma'>,</span>
  <span class='label'>fieldmap:</span> <span class='lbrace'>{</span><span class='label'>note:</span> <span class='symbol'>:a_note</span><span class='comma'>,</span> <span class='label'>date:</span> <span class='symbol'>:a_date</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>constant_target:</span> <span class='symbol'>:a_type</span><span class='comma'>,</span>
  <span class='label'>constant_value:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>Results in:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%NULLVALUE%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|%NULLVALUE%|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%NULLVALUE%|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%NULLVALUE%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|%NULLVALUE%</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%NULLVALUE%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>
<span class='rbracket'>]</span>
</code></pre>

<h3 id="with-custom-treatasnull-string">With custom <code>treat_as_null</code> string</h3>

<p>Used in job as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_transform'>transform</span> <span class='const'><span class='object_link'><a href="../Reshape.html" title="Kiba::Extend::Transforms::Reshape (module)">Reshape</a></span></span><span class='op'>::</span><span class='const'>FieldsToFieldGroupWithConstant</span><span class='comma'>,</span>
  <span class='label'>fieldmap:</span> <span class='lbrace'>{</span><span class='label'>note:</span> <span class='symbol'>:a_note</span><span class='comma'>,</span> <span class='label'>date:</span> <span class='symbol'>:a_date</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>constant_target:</span> <span class='symbol'>:a_type</span><span class='comma'>,</span>
  <span class='label'>constant_value:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>treat_as_null:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%BLANK%</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>Results in:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%BLANK%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|%BLANK%|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%BLANK%|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%BLANK%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|%BLANK%</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%BLANK%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>
<span class='rbracket'>]</span>
</code></pre>

<h3 id="with-evener-value-repeat-final-value-of-field-to-even-out-field-values">With <code>evener: :value</code> (repeat final value of field to even out field values)</h3>

<p>Used in job as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_transform'>transform</span> <span class='const'><span class='object_link'><a href="../Reshape.html" title="Kiba::Extend::Transforms::Reshape (module)">Reshape</a></span></span><span class='op'>::</span><span class='const'>FieldsToFieldGroupWithConstant</span><span class='comma'>,</span>
  <span class='label'>fieldmap:</span> <span class='lbrace'>{</span><span class='label'>note:</span> <span class='symbol'>:a_note</span><span class='comma'>,</span> <span class='label'>date:</span> <span class='symbol'>:a_date</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>constant_target:</span> <span class='symbol'>:a_type</span><span class='comma'>,</span>
  <span class='label'>constant_value:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>evener:</span> <span class='symbol'>:value</span>
</code></pre>

<p>Results in:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|%NULLVALUE%|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%NULLVALUE%|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|%NULLVALUE%</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>
<span class='rbracket'>]</span>
</code></pre>

<h3 id="with-enforceevenness-false">With <code>enforce_evenness: false</code></h3>

<p>Used in job as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_transform'>transform</span> <span class='const'><span class='object_link'><a href="../Reshape.html" title="Kiba::Extend::Transforms::Reshape (module)">Reshape</a></span></span><span class='op'>::</span><span class='const'>FieldsToFieldGroupWithConstant</span><span class='comma'>,</span>
  <span class='label'>fieldmap:</span> <span class='lbrace'>{</span><span class='label'>note:</span> <span class='symbol'>:a_note</span><span class='comma'>,</span> <span class='label'>date:</span> <span class='symbol'>:a_date</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>constant_target:</span> <span class='symbol'>:a_type</span><span class='comma'>,</span>
  <span class='label'>constant_value:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>enforce_evenness:</span> <span class='kw'>false</span>
</code></pre>

<p>Results in:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|%NULLVALUE%|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%NULLVALUE%|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|%NULLVALUE%</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>
<span class='rbracket'>]</span>
</code></pre>

<h3 id="with-treatasnull-nil-and-evener-null">With <code>treat_as_null: nil</code> and <code>evener: '%NULL%</code></h3>

<p>Used in job as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_transform'>transform</span> <span class='const'><span class='object_link'><a href="../Reshape.html" title="Kiba::Extend::Transforms::Reshape (module)">Reshape</a></span></span><span class='op'>::</span><span class='const'>FieldsToFieldGroupWithConstant</span><span class='comma'>,</span>
  <span class='label'>fieldmap:</span> <span class='lbrace'>{</span><span class='label'>note:</span> <span class='symbol'>:a_note</span><span class='comma'>,</span> <span class='label'>date:</span> <span class='symbol'>:a_date</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>constant_target:</span> <span class='symbol'>:a_type</span><span class='comma'>,</span>
  <span class='label'>constant_value:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>treat_as_null:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>evener:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%NULL%</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>Results in:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%NULL%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022||2021</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>|bar|baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%NULL%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='lbrace'>{</span><span class='label'>a_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a thing|a thing|a thing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_note:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo|bar|</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>a_date:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2022|2021|%NULL%</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>
<span class='rbracket'>]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>2.9.0</p>
</div>
      
    </li>
  
</ul>

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(fieldmap:, constant_target:, constant_value:, delim: Kiba::Extend.delim, replace_empty: true, treat_as_null: Kiba::Extend.nullvalue, enforce_evenness: true, evener: nil, uneven_warning: true, remove_empty_groups: true)  &#x21d2; FieldsToFieldGroupWithConstant </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of FieldsToFieldGroupWithConstant.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process-instance_method" title="#process (instance method)">#<strong>process</strong>(row)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(fieldmap:, constant_target:, constant_value:, delim: Kiba::Extend.delim, replace_empty: true, treat_as_null: Kiba::Extend.nullvalue, enforce_evenness: true, evener: nil, uneven_warning: true, remove_empty_groups: true)  &#x21d2; <tt><span class='object_link'><a href="" title="Kiba::Extend::Transforms::Reshape::FieldsToFieldGroupWithConstant (class)">FieldsToFieldGroupWithConstant</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new instance of FieldsToFieldGroupWithConstant.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>fieldmap</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Symbol}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>map for renaming existing fields. Keys: existing field
names. Values: new field names. Forwarded to <span class='object_link'><a href="../Rename/Fields.html" title="Kiba::Extend::Transforms::Rename::Fields (class)">Kiba::Extend::Transforms::Rename::Fields</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>constant_target</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>new field that will be added to contain constant value</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>constant_value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>value used to populate constant field</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>replace_empty</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>whether to run <span class='object_link'><a href="../Replace/EmptyFieldValues.html" title="Kiba::Extend::Transforms::Replace::EmptyFieldValues (class)">Kiba::Extend::Transforms::Replace::EmptyFieldValues</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>treat_as_null</span>
      
      
        <span class='type'>(<tt>nil</tt>, <tt>String</tt>, <tt>Array(String)</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Kiba::Extend.nullvalue</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>value(s) to be treated as empty when replacing
empty field values and deleting empty field groups. If <code>nil</code>, ‘’ will be used. <strong>NOTE:</strong> If you
need different <code>treat_as_null</code> values for replacing empty field values and deleting empty field
groups, use <span class='object_link'><a href="../Replace/EmptyFieldValues.html" title="Kiba::Extend::Transforms::Replace::EmptyFieldValues (class)">Kiba::Extend::Transforms::Replace::EmptyFieldValues</a></span> separately in your job before you use this transform.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enforce_evenness</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>whether to pad field values to ensure all resulting fields have
the same number of values</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>evener</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>:value</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>value used to even out uneven field values. If given a String,
that string will be appended to even out fields. If <code>nil</code>, the value of <code>treat_as_null</code> will be
used. If <code>:value</code>, the <strong>final</strong> value in the field will be repeated to even out the field.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>uneven_warning</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>whether to print warnings about uneven field groups to STDOUT</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>remove_empty_groups</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>whether to run <span class='object_link'><a href="../Delete/EmptyFieldGroups.html" title="Kiba::Extend::Transforms::Delete::EmptyFieldGroups (class)">Delete::EmptyFieldGroups</a></span> before finalizing row</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>delim</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Kiba::Extend.delim</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>used to split/join multiple values in a field</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>2.9.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kiba/extend/transforms/reshape/fields_to_field_group_with_constant.rb', line 198</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>fieldmap:</span><span class='comma'>,</span>
  <span class='label'>constant_target:</span><span class='comma'>,</span>
  <span class='label'>constant_value:</span><span class='comma'>,</span>
  <span class='label'>delim:</span> <span class='const'><span class='object_link'><a href="../../../../Kiba.html" title="Kiba (module)">Kiba</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Extend.html" title="Kiba::Extend (module)">Extend</a></span></span><span class='period'>.</span><span class='id identifier rubyid_delim'><span class='object_link'><a href="../../../Extend.html#delim-class_method" title="Kiba::Extend.delim (method)">delim</a></span></span><span class='comma'>,</span>
  <span class='label'>replace_empty:</span> <span class='kw'>true</span><span class='comma'>,</span>
  <span class='label'>treat_as_null:</span> <span class='const'><span class='object_link'><a href="../../../../Kiba.html" title="Kiba (module)">Kiba</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Extend.html" title="Kiba::Extend (module)">Extend</a></span></span><span class='period'>.</span><span class='id identifier rubyid_nullvalue'><span class='object_link'><a href="../../../Extend.html#nullvalue-class_method" title="Kiba::Extend.nullvalue (method)">nullvalue</a></span></span><span class='comma'>,</span>
  <span class='label'>enforce_evenness:</span> <span class='kw'>true</span><span class='comma'>,</span>
  <span class='label'>evener:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>uneven_warning:</span> <span class='kw'>true</span><span class='comma'>,</span>
  <span class='label'>remove_empty_groups:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='ivar'>@renamer</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Rename.html" title="Kiba::Extend::Transforms::Rename (module)">Rename</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rename/Fields.html" title="Kiba::Extend::Transforms::Rename::Fields (class)">Fields</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Rename/Fields.html#initialize-instance_method" title="Kiba::Extend::Transforms::Rename::Fields#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>fieldmap:</span> <span class='id identifier rubyid_fieldmap'>fieldmap</span><span class='rparen'>)</span>
  <span class='ivar'>@renamed</span> <span class='op'>=</span> <span class='id identifier rubyid_fieldmap'>fieldmap</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
  <span class='ivar'>@target</span> <span class='op'>=</span> <span class='id identifier rubyid_constant_target'>constant_target</span>
  <span class='ivar'>@value</span> <span class='op'>=</span> <span class='id identifier rubyid_constant_value'>constant_value</span>
  <span class='ivar'>@delim</span> <span class='op'>=</span> <span class='id identifier rubyid_delim'>delim</span>
  <span class='ivar'>@replace_empty</span> <span class='op'>=</span> <span class='id identifier rubyid_replace_empty'>replace_empty</span>
  <span class='ivar'>@treat_as_null</span> <span class='op'>=</span> <span class='id identifier rubyid_treat_as_null'>treat_as_null</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_treat_as_null'>treat_as_null</span>
  <span class='ivar'>@enforce_evenness</span> <span class='op'>=</span> <span class='id identifier rubyid_enforce_evenness'>enforce_evenness</span>
  <span class='ivar'>@evener</span> <span class='op'>=</span> <span class='id identifier rubyid_evener'>evener</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='id identifier rubyid_treat_as_null'>treat_as_null</span> <span class='op'>:</span> <span class='id identifier rubyid_evener'>evener</span>
  <span class='ivar'>@uneven_warning</span> <span class='op'>=</span> <span class='id identifier rubyid_uneven_warning'>uneven_warning</span>
  <span class='ivar'>@remove_empty_groups</span> <span class='op'>=</span> <span class='id identifier rubyid_remove_empty_groups'>remove_empty_groups</span>

  <span class='ivar'>@empty_replacer</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Replace.html" title="Kiba::Extend::Transforms::Replace (module)">Replace</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Replace/EmptyFieldValues.html" title="Kiba::Extend::Transforms::Replace::EmptyFieldValues (class)">EmptyFieldValues</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Replace/EmptyFieldValues.html#initialize-instance_method" title="Kiba::Extend::Transforms::Replace::EmptyFieldValues#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>fields:</span> <span class='ivar'>@renamed</span><span class='comma'>,</span>
    <span class='label'>value:</span> <span class='id identifier rubyid_treat_as_null'>treat_as_null</span><span class='comma'>,</span>
    <span class='label'>delim:</span> <span class='id identifier rubyid_delim'>delim</span><span class='comma'>,</span>
    <span class='label'>treat_as_null:</span> <span class='id identifier rubyid_treat_as_null'>treat_as_null</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@even_xform</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Clean.html" title="Kiba::Extend::Transforms::Clean (module)">Clean</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Clean/EvenFieldValues.html" title="Kiba::Extend::Transforms::Clean::EvenFieldValues (class)">EvenFieldValues</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Clean/EvenFieldValues.html#initialize-instance_method" title="Kiba::Extend::Transforms::Clean::EvenFieldValues#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>fields:</span> <span class='ivar'>@renamed</span><span class='comma'>,</span>
    <span class='label'>evener:</span> <span class='ivar'>@evener</span><span class='comma'>,</span>
    <span class='label'>delim:</span> <span class='id identifier rubyid_delim'>delim</span><span class='comma'>,</span>
    <span class='label'>warn:</span> <span class='id identifier rubyid_uneven_warning'>uneven_warning</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@group_cleaner</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Delete.html" title="Kiba::Extend::Transforms::Delete (module)">Delete</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Delete/EmptyFieldGroups.html" title="Kiba::Extend::Transforms::Delete::EmptyFieldGroups (class)">EmptyFieldGroups</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Delete/EmptyFieldGroups.html#initialize-instance_method" title="Kiba::Extend::Transforms::Delete::EmptyFieldGroups#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>groups:</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='id identifier rubyid_renamed'>renamed</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>delim:</span> <span class='id identifier rubyid_delim'>delim</span><span class='comma'>,</span>
    <span class='label'>treat_as_null:</span> <span class='id identifier rubyid_treat_as_null'>treat_as_null</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@value_getter</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Helpers.html" title="Kiba::Extend::Transforms::Helpers (module)">Helpers</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Helpers/FieldValueGetter.html" title="Kiba::Extend::Transforms::Helpers::FieldValueGetter (class)">FieldValueGetter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Helpers/FieldValueGetter.html#initialize-instance_method" title="Kiba::Extend::Transforms::Helpers::FieldValueGetter#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>fields:</span> <span class='id identifier rubyid_renamed'>renamed</span><span class='comma'>,</span>
    <span class='label'>delim:</span> <span class='id identifier rubyid_delim'>delim</span><span class='comma'>,</span>
    <span class='label'>treat_as_null:</span> <span class='id identifier rubyid_treat_as_null'>treat_as_null</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="process-instance_method">
  
    #<strong>process</strong>(row)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>Hash{ Symbol =&gt; String, nil }</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>2.9.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


245
246
247
248
249
250
251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kiba/extend/transforms/reshape/fields_to_field_group_with_constant.rb', line 245</span>

<span class='kw'>def</span> <span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_renamer'>renamer</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_value_getter'>value_getter</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_vals'>vals</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_row'>row</span><span class='lbracket'>[</span><span class='id identifier rubyid_target'>target</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_empty_replacer'>empty_replacer</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_replace_empty'>replace_empty</span>
    <span class='id identifier rubyid_max_vals'>max_vals</span> <span class='op'>=</span> <span class='id identifier rubyid_find_max_vals'>find_max_vals</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_add_constant'>add_constant</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_max_vals'>max_vals</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_even_xform'>even_xform</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_enforce_evenness'>enforce_evenness</span>
    <span class='id identifier rubyid_group_cleaner'>group_cleaner</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_remove_empty_groups'>remove_empty_groups</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_row'>row</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Oct  2 21:22:04 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.1.7).
</div>

    </div>
  </body>
</html>