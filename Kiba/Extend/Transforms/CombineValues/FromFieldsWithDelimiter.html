<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Kiba::Extend::Transforms::CombineValues::FromFieldsWithDelimiter
  
    &mdash; Kiba-Extend Documentation
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Kiba::Extend::Transforms::CombineValues::FromFieldsWithDelimiter";
  relpath = '../../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Kiba.html" title="Kiba (module)">Kiba</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Extend.html" title="Kiba::Extend (module)">Extend</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Transforms.html" title="Kiba::Extend::Transforms (module)">Transforms</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../CombineValues.html" title="Kiba::Extend::Transforms::CombineValues (module)">CombineValues</a></span></span>
     &raquo; 
    <span class="title">FromFieldsWithDelimiter</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Kiba::Extend::Transforms::CombineValues::FromFieldsWithDelimiter
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Kiba::Extend::Transforms::CombineValues::FromFieldsWithDelimiter</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/kiba/extend/transforms/combine_values.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Combine values from given fields into the target field.</p>

<p>This is like the CONCATENATE function in many spreadsheets. The given <code>sep</code> value is used as a separator between the combined values.</p>

<h1 id="label-Examples">Examples</h1>

<p>Input table:</p>

<pre class="code ruby"><code class="ruby">| col1 | col2 | col3 |
|------+------+------|
| a    | b    | c    |
| d    | e    | nil  |
| nil  | f    | g    |
| nil  | h    |      |
</code></pre>

<p>Used in pipeline as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_transform'>transform</span> <span class='const'><span class='object_link'><a href="../CombineValues.html" title="Kiba::Extend::Transforms::CombineValues (module)">CombineValues</a></span></span><span class='op'>::</span><span class='const'>FromFieldsWithDelimiter</span><span class='comma'>,</span> <span class='label'>sources:</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>col1</span><span class='words_sep'> </span><span class='tstring_content'>col3</span><span class='tstring_end'>]</span></span><span class='comma'>,</span> <span class='label'>target:</span> <span class='symbol'>:combined</span><span class='comma'>,</span>
   <span class='label'>sep:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> - </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>delete_sources:</span> <span class='kw'>false</span>
</code></pre>

<p>Results in:</p>

<pre class="code ruby"><code class="ruby">| col1 | col2 | col3 | combined |
|------+------+------+----------|
| a    | b    | c    | a - c    |
| d    | e    | nil  | d        |
| nil  | f    | g    | g        |
| nil  | h    |      | nil      |
</code></pre>

<p>Used in pipeline as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_transform'>transform</span> <span class='const'><span class='object_link'><a href="../CombineValues.html" title="Kiba::Extend::Transforms::CombineValues (module)">CombineValues</a></span></span><span class='op'>::</span><span class='const'>FromFieldsWithDelimiter</span><span class='comma'>,</span> <span class='label'>sources:</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>col1</span><span class='words_sep'> </span><span class='tstring_content'>col3</span><span class='tstring_end'>]</span></span><span class='comma'>,</span> <span class='label'>target:</span> <span class='symbol'>:col1</span><span class='comma'>,</span>
   <span class='label'>sep:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> - </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>prepend_source_field_name:</span> <span class='kw'>true</span>
</code></pre>

<p>Results in:</p>

<pre class="code ruby"><code class="ruby">| col2 | col1                 |
+------+----------------------|
| b    | col1: a - col3: c    |
| e    | col1: d              |
| f    | col3: g              |
| h    | nil                  |
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(sources:, target:, sep:, prepend_source_field_name: false, delete_sources: true)  &#x21d2; FromFieldsWithDelimiter </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of FromFieldsWithDelimiter.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(sources:, target:, sep:, prepend_source_field_name: false, delete_sources: true)  &#x21d2; <tt><span class='object_link'><a href="" title="Kiba::Extend::Transforms::CombineValues::FromFieldsWithDelimiter (class)">FromFieldsWithDelimiter</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of FromFieldsWithDelimiter.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>sources</span>
      
      
        <span class='type'>(<tt>Array&lt;Symbol&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Fields whose values are to be combined</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>target</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Field into which the combined value will be written. May be one of the source fields</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sep</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Value inserted between combined field values</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>prepend_source_field_name</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Whether to insert the source field name before its value in the combined value.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>delete_sources</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Whether to delete the source fields after combining their values into the target field. If target field name is the same as one of the source fields, the target field is not deleted.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/kiba/extend/transforms/combine_values.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>sources:</span><span class='comma'>,</span> <span class='label'>target:</span><span class='comma'>,</span> <span class='label'>sep:</span><span class='comma'>,</span> <span class='label'>prepend_source_field_name:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>delete_sources:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='ivar'>@sources</span> <span class='op'>=</span> <span class='id identifier rubyid_sources'>sources</span>
  <span class='ivar'>@target</span> <span class='op'>=</span> <span class='id identifier rubyid_target'>target</span>
  <span class='ivar'>@sep</span> <span class='op'>=</span> <span class='id identifier rubyid_sep'>sep</span>
  <span class='ivar'>@del</span> <span class='op'>=</span> <span class='id identifier rubyid_delete_sources'>delete_sources</span>
  <span class='ivar'>@prepend</span> <span class='op'>=</span> <span class='id identifier rubyid_prepend_source_field_name'>prepend_source_field_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


</div>

      <div id="footer">
  Generated on Tue Aug 31 21:20:03 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.7.4).
</div>

    </div>
  </body>
</html>